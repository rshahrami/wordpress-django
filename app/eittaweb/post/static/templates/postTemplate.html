<html > 
    
<head>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.2.3/animate.min.css">
{% load static %}


    <!-- Our project just needs Font Awesome Free's Solid and Brand files -->
    <link href="{% static 'fontawesomefree/css/fontawesome.css' %}" rel="stylesheet" type="text/css">
    <link href="{% static 'fontawesomefree/css/brands.css' %}" rel="stylesheet" type="text/css">
    <link href="{% static 'fontawesomefree/css/solid.css' %}" rel="stylesheet" type="text/css">
 

    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>




    <script defer src="https://use.fontawesome.com/releases/v5.0.6/js/all.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Pangolin&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@700&display=swap" rel="stylesheet">














    <link rel="preconnect" href="//fdn.fontcdn.ir">
    <link rel="preconnect" href="//v1.fontapi.ir">
    <link href="https://v1.fontapi.ir/css/Sahel" rel="stylesheet">


<style>

{% comment %} @font-face { font-family: 'mysahelfont';  src: url('../Sahel.ttf');}{% endcomment %}
@font-face { font-family: 'myyekanfont';  src: url('post\templates\font\BYekan+.ttf') format("truetype");} 
    
{% load static %}
@font-face { font-family: 'myyekanfont';  src: url('post\templates\font\BYekan+.ttf') format("truetype");} 

    /* wrapper css */
    #wrapper{
        margin-top:5px;
        width:100%;
        background:#fff;
    }
    #wrapper hgroup{
        text-align:center !important;
    }

    {% comment %} @font-face { font-family: 'mysahelfont';  src: url('../Sahel.ttf');} {% endcomment %}

 

    body { font-family: Sahel; }




    


    #wrapper h2{
        margin:5px 0;
        color:#FF6D99;
        text-shadow:1px 1px 2px #A50031;
        font-size:32px;
        font-family:myfont;
    } 
    #wrapper h3{
        font-style:italic;
        font-weight:normal;
        font-size:18px;
        text-shadow:1px 1px 0 #fff;
        color:#888;
        margin:5px 0;
    }

    #container{
        position:relative;
        width:1100px;
        margin:50px auto 25px;
        padding-bottom: 10px;
        
    }
    .grid{
       
         
        border-radius:10%;
        min-height:100px;
        padding: 0px;
        background:#fff;
        margin:8px;
        font-size:12px;
        float:left;
        font-weight:bold;
     
        -moz-box-shadow: 0 1px 3px rgba(34,25,25,0.4);
       
       
        -moz-transition: top 1s ease, left 1s ease;
        -o-transition: top 1s ease, left 1s ease;
        -ms-transition: top 1s ease, left 1s ease;
    }

    .grid strong {
        border-bottom:1px solid #ccc;
        margin:10px 0;
        display:block;
        padding:0 0 5px;
        font-size:17px;
    }
    .grid .meta{
        text-align:left;
        color:#777;
        {% comment %} font-style:italic; {% endcomment %}
        font-family: Sahel;
        margin-left: 30%;
    }
    .grid .imgholder img{
        border-radius:10%;
        max-width:100%;
        background:#ccc;
        display:block;
    }



    @media screen and (max-width : 1240px) {
        body{
            overflow:auto;
            font-family: myfont
        }
    }
    @media screen and (max-width : 900px) {
        #backlinks{
            float:none;
            clear:both;
        }
        #backlinks a{
            display:inline-block;
            padding-right:20px;
        }
        #wrapper{
            margin-top:90px;
        }
    }



    .navbar-brand{
        font-weight:600;
        color:white !important;
    }











    .pagination {
        display: flex;
        margin-top: 15px;
        align-items: center;
        justify-content: center;
    }
    
    .pagination a {
        text-decoration: none;
    }
    
    .pagination-number {
        padding: 12px 17px;
        border-radius: 2px;
        color: #fff;
        background-color: #2d2929e3;
    }
    
    .pagination-number:hover,
    .pagination-current {
        background-color: #2d2929e3;
    }
    
    .pagination-action {
        margin: 0 2px;
        display: flex;
        padding: 1px 2px;
        color: #fff;
        font-size: 1.3em;
        align-items: center;
    }
    
    .pagination-action:hover,
    .pagination-previous,
    .pagination-next {
        color: #3354AA;
    }

    #customers .iconsColumn{
        display: flex;
        flex-direction: row;
        justify-content : space-around;
    }









    .first_header h1{
        font-family: Calibri;
        {% comment %} margin-left:624px; {% endcomment %}
        text-align: center;
        font-size:18;
    }

    .first_header h3{
        font-family: Calibri;
        {% comment %} margin-left:688px; {% endcomment %}
        text-align: center;
        font-size:14;
    }





    {% comment %} ul {
        list-style-type: none;
        margin: 0;
        padding: 0;
        overflow: hidden;
        background-color: #333;
      } {% endcomment %}

      ul {    list-style-type: none;    margin: 0;    padding: 0;    overflow: hidden;    background-color: #09b80f;    background: rgba(45, 222, 19, 0);}
      
      li {
        float: left;
        border-right:1px solid #bbb;
      }
      
      li:last-child {
        border-right: none;
      }
      
      li a {
        display: block;
        color: black;
        text-align: center;
        padding: 14px 16px;
        text-decoration: none;
      }
      
      li a:hover:not(.active) {
        background-color: #111;
      }
      
      .active {
        background-color: #04AA6D;
      }
      
      



      .navbar-default{
        background-color: #2d2929e3 !important;
      }

      li.active a{
        background-color: #444040 !important;
        color: white !important;
        
      }



      .navbar-right {float: right!important;}























      a.minipic {
        display: block;
        position: relative;
        z-index: 1;
        transition: all .3s ease-out 0s;
        height: 20px;
        pointer-events: none;
    }
    a.minipic:hover> img {
        min-height: 40px;
        overflow: hidden;
    }
    
    a.minipic > img {
        min-height: 20px;
        overflow: hidden;
        transform: translateX(-40px);
    }
























































    
     a {
        padding: 5px;
        display: inline-block;      
       
    }
    
    a:hover img {
        transform: scale(1.2);
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
    }

   




























































    .search{
        position: relative;
        float:right !important;
        top:50%;
        left:50%;
        transform: translate(-50% , -50%);
        background:black ;
        height: 40px;
        border-radius: 40px;
        padding: 10px;
    }
    
    .search:hover > .search-txt{
        width: 180px;
        padding: 0 10px;
        color: wheat;
        font-family: Sahel;
    }
    .search:hover > .search-btn{
       background: white ;
    }
    .search-btn{
        color: red;
        float: right;
        width: 40px;
        height: 40px;
        border-radius: 50%;
        background:#ABB2B9 ;
        display: flex;
        justify-content: center;
        align-items: center;
        font-family: Sahel;
    }
    
    .search-txt{
        font-family: Sahel;
        border: none;
        background: none;
        outline: none;
        float: left;
        padding: 0;
        color:wheat ;
        font-size: 16px;
        transition: ease-in 0.4s;
        line-height: 20px;
        width: 110px;
        font-family: Sahel;
        text-align:right;
    }
    .fas fa-search{
        font-weight: 200;
        font-size: 40px;
    }








    #loading {
        position: fixed;
        width: 100%;
        height: 100vh;
        background: #fff url('/static/Spinner.gif') no-repeat center center;
        z-index: 9999;
        }


    

</style>

<!--[if lt IE 9]>
<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>  3000
<![endif]-->


<script>
    jQuery(document).ready(function() {
        jQuery('#loading').fadeOut(5000);
    });
    </script>
    


<script src="{% static 'js/blocksit.js' %}"></script>

<script>

persian={0:'۰',1:'۱',2:'۲',3:'۳',4:'۴',5:'۵',6:'۶',7:'۷',8:'۸',9:'۹'};
$(".persian-digit").each(function(){
    for(var i=0;i<=9;i++) {
        var re = new RegExp(i,"g");
        $(this).html($(this).html().replace(re,persian[i]));
    }
});

</script>





<script>
    $(document).ready(function() {
        //vendor script
        $('#header')
        .css({ 'top':-50 })
        .delay(1000)
        .animate({'top': 0}, 800);
        
        $('#footer')
        .css({ 'bottom':-15 })
        .delay(1000)
        .animate({'bottom': 0}, 800);
        
        //blocksit define
        $(window).load( function() {
            $('#container').BlocksIt({
                numOfCol: 5,
                offsetX: 8,
                offsetY: 8
            });
        });
        
        //window resize
        var currentWidth = 1100;
        $(window).resize(function() {
            var winWidth = $(window).width();
            var conWidth;
            if(winWidth < 660) {
                conWidth = 440;
                col = 2
            } else if(winWidth < 880) {
                conWidth = 660;
                col = 3
            } else if(winWidth < 1100) {
                conWidth = 880;
                col = 4;
            } else {
                conWidth = 1100;
                col = 5;
            }
            
            if(conWidth != currentWidth) {
                currentWidth = conWidth;
                $('#container').width(conWidth);
                $('#container').BlocksIt({
                    numOfCol: col,
                    offsetX: 8,
                    offsetY: 8
                });
            }
        });
    });
    </script>





<!--

    <script type="text/javascript">
        var replaceDigits = function() {
            var map = ["&\#1776;","&\#1777;","&\#1778;","&\#1779;","&\#1780;","&\#1781;","&\#1782;","&\#1783;","&\#1784;","&\#1785;"]
            document.body.innerHTML = document.body.innerHTML.replace(/\d(?=[^<>]*(<|$))/g, function($0) { return map[$0]});
        }
        window.onload = replaceDigits;
        </script>

    -->


























    
    


</head>

<body>

    <div id="loading"></div>

    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
        
        <div class="container">

          <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" style="font-size=32px; font-weight=800; color=red;">رویداد مردمی #ایران_ما</a>
         
            {% comment %} <a>
            <img src="..\media\post\123.JPG" width="100" height="50">
            </a> {% endcomment %}
          </div>
          <div class="navbar-collapse collapse">
            
            <ul class="nav navbar-nav navbar-right">

              <li class="active"><a href="{% url 'uploadImageViews' %}"><div style="color:red"><b>ارسال محتوا</b></div></a></li>
              <li class="active"><a href="{% url 'LastDate' %}">جدیدترین ها</a></li>
              <li class="active"><a href="{% url 'MaxLike' %}">بیشترین پسند</a></li>
              <li class="active"><a href="{% url 'home' %}">خانه</a></li>

              
           
            </ul>
            <center><a class="navbar-brand" style="margin-left: 19%;float:right;">

                <div class="search">
                    <input id="searchtext"  class="search-txt" type="text" name="" placeholder="شماره تصویر">
                   <span id='search-button'>
                    <i  class="fa fa-search" style="cursor: pointer; font-size:20;margin-left: 10px;font-family: Sahel;" aria-hidden="true"></i>
                   </span>
                   </div>

                 
            </a></center>

          </div>
          
        </div>
        
      </div>

      <script>


        $('#search-button').click(function(){

            var bvalue= document.getElementById("searchtext").value

             

            location.replace("{% url 'SearchById' 'me' %}".replace('me' , bvalue))
           
        });


        </script>




    <section id="wrapper">

    


        <div id="container">
     
            {% for i in files %}
            <div class="grid">
                <div class="imgholder"> <a>  <img src={{i.image.url}}/> </a> </div>
                <div id="like-{{i.id}}">
                <i  class="fa fa-heart" style="cursor: pointer; font-size:20;" aria-hidden="true"></i>
                <span id="number-{{i.id}}"> {{i.like}} </span>
                <span class="meta" > عکس شماره {{i.id}}</span>
                </div>
                {% comment %} <p dir='rtl'>#ایران_ما</p> {% endcomment %}
              
                
                </div>





                <script>
                   
                    $('#like-{{i.id}}').click(function(){
                        $(this).css("color", "red");

                        
                        var b = parseInt(document.getElementById("number-{{i.id}}").innerHTML) + 1;

                        

                        document.getElementById("number-{{i.id}}").innerHTML = b;
                        

                        
                      
                        

                        $.ajax({
                            type: "POST",
                            url: "{% url 'UpdateLike' %}",
                            data: {
                                "id": {{i.id}},
                                
                            },
                            dataType: "json",
                            success: function (data) {
                                // any process in data
                                console.log('yes')
                            },
                            failure: function () {
                                console.log('yes')
                            }
                        });
                       
                       

                        $('#like-{{i.id}}').off();
                    });



                    


                    
                </script>


            {% endfor %}




            


 
        <!----> 
        </div>


        
        </section>

        
       
    



      

    </div>


 


</body>

<footer>
    <div class="pagination">
        {% if files.has_previous %}
        <a class="pagination-action" href="?page=1">
            <i class='bx bx-chevrons-left' aria-hidden="true"></i> </a>
        <a class="pagination-action" href="?page={{ files.previous_page_number }}">
            <i class='bx bx-chevron-left' aria-hidden="true"></i>
        </a>
        {% endif %}
        {% for num in files.paginator.page_range %}
            {% if files.number == num %}
                <span class="pagination-number pagination-current">{{ num }}</span>
            {% elif num > files.number|add:'-3' and num < files.number|add:'3' %}
                <a class="pagination-number" href="?page={{ num }}">{{ num }}</a>
            {% endif %}
        {% endfor %}
        {% if files.has_next %}
            <a class="pagination-action" href="?page={{ files.next_page_number }}">
                <i class='bx bx-chevron-right' aria-hidden="true"></i>
            </a>
            <a class="pagination-action" href="?page={{ files.paginator.num_pages }}">
                <i class='bx bx-chevrons-right' aria-hidden="true"></i>
            </a>
        {% endif %}
    </div>
    


</fotter>

</html>






      